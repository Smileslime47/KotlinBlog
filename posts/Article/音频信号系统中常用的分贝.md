---
tittle: 音频信号系统中常用的分贝
date: 2023/01/25
tags: 
  - 波形分析
  - 信号系统
  - 模拟电路
---
# 音频信号系统中常用的分贝
分贝是用来描述两个相同意义的量的比例关系的一个单位，并没有实际含义

应用中常用的比例关系是（实际测量值/基准值），用以描述测量值是基准值的X倍关系，但也有其他的应用（如信噪比等）

对于声音而言有多个不同的基准（dbSPL dbm dbu dbV dbFS等等），但是本质上都是相同的

就像温度里的开尔文和摄氏度一样，增长1开尔文和增长1摄氏度是等价的概念，只是二者0度的基准不同

## 计算方式
---
### 对于功率量而言
$$L_B=log_{10}(\frac{P}{P_{ref}})$$
$$L_{dB}=10log_{10}(\frac{P}{P_{ref}})$$
- P：实际测量功率
- $P_{ref}$：用作比较的基准功率

### 对于场量而言

功率往往与其幅值（振幅）的平方成正比，即
$$L_B=log_{10}(\frac{A^2}{A_{ref}^2})=2log_{10}(\frac{A}{A_{ref}})$$
$$L_{dB}=10log_{10}(\frac{A^2}{A_{ref}^2})=20log_{10}(\frac{A}{A_{ref}})$$

### 增长关系
由于是对数关系，分贝有几个常用的增长关系：
- P等比高出两倍（A高出根号2倍）时，db多3
- P等比高出四倍（A高出2倍）时，db多6
- P等比高出10倍时，dB多10
- A等比高出10倍时，dB多20

## dBSPL基准——现实世界
---
日常用的分贝基准是dbSPL（decibel Sound-Pressure-Level，分贝-声压级）

基准值是人耳能够听到的最低阈值：20微帕斯卡

$L_{dBSPL}=20log_{10}(\frac{P}{2\times 10^{-5}Pa})$
- 这里的P指的是声压级而非声功率，代入的是上述公式中的“A”
- 当分贝值为0时：声音为人耳能听到的最低声音
- 当分贝值小于0时：人耳能够辨别
- 当分贝值大于0时：人耳无法辨别


## dBV和dBu基准——模拟信号
---
由于电和声都是场量，对于数字音频而言，电平强度可以反映声音信号的强度，所以电信号强度也可以间接反映出dBSPL的强度
- 若用功率量描述
  - 电功率为$L_dB=10log_{10}(\frac{P}{P_{ref}})$
  - 声功率为$L_dB=10log_{10}(\frac{P}{P_{ref}})$
- 若用场量描述
  - 电平为$L_{dB}=10log_{10}(\frac{U^2}{U_{ref}^2})=20log_{10}(\frac{U}{U_{ref}})$
  - 声压为$L_{dB}=10log_{10}(\frac{P^2}{P_{ref}^2})=20log_{10}(\frac{P}{P_{ref}})$



无线电设备及后来兴起的Hifi设备常用的基准是dBV和dBu
- dbV的参考电压是1V电压
- dbu的参考电压是0.7746V电压
  - 这个值是基于在600Ω负载下维持1mW功率的电压

专业音频设备工作电压常常是+4dbu

民用音频设备工作电压常常是-10dbV

由于单位基准值不同（0dbV=+2.22dbu），二者实际上相差11.78dB
- -10dBV=(-10+0)dBV=(-10+2.22)=7.78dBu

## dBFS基准——数字信号
---
数字音频系统中常用的是dbFS（decibel Full-Scale，分贝-全量程）基准

基准值为**信号采样精度**，即当采样精度为16bit时，基准值为65536

此时有
$$L_{dBFS}=20log_{10}(\frac{D}{65536})$$
- D：采样点，即电平值在采样空间中的位置
- 当分贝值为0时，其含义为系统量程内的最大信号（即能够输出的最大电平）
  - 当采样精度为16bit时，其位置表示为65536/65536
- 当分贝大于0时，系统产生限幅/削波，造成波形失真

由于数字信号本质是离散分布，存在一个点在意义上表示系统的最小有效信号
- 即有效电平线，当采样精度为16bit时，其位置表示为1/65536
- 这个有效电平是相对于系统而言的
  - 从这个点开始高于这个点的电平值被认为是有实际含义的信号数据
  - 从这个点开始低于这个点的电平值被认为是没有实际含义的噪声
  - 基于这点，当音频的波形随时间衰减到一个程度后，就会因为增益过低而被认作噪声

### 信噪比
电路系统中会引入各种噪声干扰，这时候需要定义一个最小有效信号，高于这个电平的被视作记录的实际数据，而低于这个电平的被视作底噪

此时信号与噪声的比值即**信噪比（Singal-to-noise ratio，简称SNR）**
$$SNR(dB)=10log_{10}(\frac{P_{signal}}{P_{noise}})=20log_{10}(\frac{A_{signal}}{A_{noise}})$$
- P：信号/噪声功率
- A：信号/噪声振幅

以音频系统为例，对于一个较差的音频系统而言，采样精度低，动态范围小，更大范围的信号被视作噪声
- 如早期的8bit音乐，音频文件本身动态范围为-48dB，则低于这个音量的被视作噪声，更多的细节得不到保留
  - 最明显的表现就是声音延展性差，延音少，颗粒性强，音头明显，细节少

对于一个较好的音频系统而言，动态范围大，更大范围的信号得以保留，拥有更多的细节信息

- 当采样精度为16bit时，最小有效信号用dBFS基准表示就是
$$20log(\frac1{65536})=-96dB$$
  - 即最低有效信号为-96dB，低于此信号的被视作本底噪声，也可以说系统的动态范围是-96dB
- 当采样精度为24bit时，最小有效信号用dBFS基准表示就是
$$20log(\frac1{16777216})=-144dB$$